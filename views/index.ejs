<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <meta name="description"
    content="A tool to help you decide on whether a Tesla is the right financial decision for you.">
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400");
@import url('https://fonts.googleapis.com/css2?family=Catamaran&family=Montserrat&family=Roboto:wght@300;400;700&display=swap');

/* @import url('https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto:wght@300;400&display=swap'); */
*,
*::before,
*::after {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  font: 'Roboto';
}

/* ================= VARIABLE ================ */
:root {
  --primary-color: white;
  --primary-color-alt: hsl(28, 72%, 83%);
  --second-color: #3e537c;
  --second-color-alt: hsla(220, 33%, 36%, 65%);
  --third-color: hsl(220, 36%, 28%);
  --white-color: #fbfbfb;
  --white-color-alt: hsl(12, 14%, 93%);
  --dark-color: hsl(300, 100%, 0%);
  --color-primary: #2b2929;
  --color-secondary: #5a4e4c;
  --color-tertiary: #231918;
  --color-quaternary: #160a08;
  --smaller: .75;
  --color-quinary: #1f1f1f;
}



/* ================= BASE ==================== */
li {
  list-style: none;
}
a {
  text-decoration: none;
}
img {
  width: 100%;
  height: auto;
}
.bx {
  font-size: 2.5rem;
}
.container {
  padding: 0 2rem;
}

/* -- BODY -- */
body {
  font-family: "Roboto", sans-serif;
  font-size: 1rem;
  background-color: var(--white-color);
}

/* ================= HEADER ================ */
header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  /* background-color: var(--dark-color); */
  padding: 1rem 2rem;
}

.company-logo {
  /* font-size: 2.5rem; */
  position: sticky;
  /* background: -webkit-linear-gradient(
    120deg,
    var(--primary-color-alt),
    var(--primary-color)
  ); */
  /* z-index: 1; */
  /* -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; */
}
.company-logo img{
  /* width: 100%; */
  max-width: 500px;
  height: 100px;
}
.center-text{
  font-size: 2.5rem;
  background: -webkit-linear-gradient(
    120deg,
    var(--primary-color-alt),
    var(--primary-color)
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.nav-items {
  display: flex;
}
.nav-item {
  margin: -25px 2rem;
}
.nav-link {
  font-size: 1.2rem;
  font-weight: bolder;
  letter-spacing: 0.05rem;
  position: relative;
  background: -webkit-linear-gradient(
    var(--primary-color-alt),
    var(--primary-color)
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.nav-link::before {
  content: "";
  background: linear-gradient(var(--primary-color), var(--primary-color-alt));
  width: 100%;
  height: 0.05rem;
  position: absolute;
  left: 0;
  bottom: 0;
  transform: scaleX(0);
  transform-origin: bottom right;
  transition: transform 150ms;
}
.nav-link:hover::before {
  transform: scaleX(1);
  transform-origin: bottom left;
}
.menu-toggle {
  display: none;
  /* position: relative; */
}
.bx-menu,
.bx-x {
  cursor: pointer;
  background: -webkit-linear-gradient(
    120deg,
    var(--primary-color-alt),
    var(--primary-color)
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: none !important;
}
.heading{
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
  color: white;
  font-family: Arial, sans-serif;
}







    .white {
      color: whitesmoke;
    }

    .center {
      text-align: center;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
     
      padding: 1rem 2rem;
    }

   

    .company-logo {
      /* font-size: 2.5rem; */
      position: sticky;
      /* background: -webkit-linear-gradient(
    120deg,
    var(--primary-color-alt),
    var(--primary-color)
  ); */
      /* z-index: 1; */
      /* -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; */
    }

    .company-logo img {
      /* width: 100%; */
      max-width: 100px;
      height: 100px;
    }

    .center-text {
      font-size: 2.5rem;
      background: -webkit-linear-gradient(120deg,
          var(--primary-color-alt),
          var(--primary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .nav-items {
      display: flex;
    }

    .nav-item {
      margin: -25px 2rem;
    }

    .nav-link {
      font-size: 1.2rem;
      font-weight: bolder;
      letter-spacing: 0.05rem;
      position: relative;
      background: -webkit-linear-gradient(var(--primary-color-alt),
          var(--primary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .nav-link::before {
      content: "";
      background: linear-gradient(var(--primary-color), var(--primary-color-alt));
      width: 100%;
      height: 0.05rem;
      position: absolute;
      left: 0;
      bottom: 0;
      transform: scaleX(0);
      transform-origin: bottom right;
      transition: transform 150ms;
    }

    .nav-link:hover::before {
      transform: scaleX(1);
      transform-origin: bottom left;
    }
  </style>
</head>

<body class="bg-dark">
  <!-- Navigation -->
  <header>
    <div class="company-logo">
      <img src="/images/tesla.png" alt="">
    </div>

    <nav class="navbar">
      <ul class="nav-items">
        <li class="nav-item"><a href="#" class="nav-link">HOME</a></li>
        <li class="nav-item"><a href="#" class="nav-link">FEATURES</a></li>
        <li class="nav-item"><a href="#" class="nav-link">PRICING</a></li>
      </ul>
    </nav>

  </header>
  <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark" >
        <a class="navbar-brand" href="#">TESLA</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav ">
            
            <ul class="nav justify-content-center">
              <li class="nav-item">
                <a class="nav-link active" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Features</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Pricing</a>
              </li>
             
            </ul>
            
          </div>

        </div>
      </nav> -->
  <main class="container my-4">
    <h2 class="white center">Which Tesla are you considering?</h2>
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner center">
        <div class="carousel-item active" style="margin:auto">
          <img src="/images/model3.png" class="d-block w-100" alt="Model 3">
          <h3 class="white">Model 3</h3>
        </div>
        <div class="carousel-item">
          <img src="/images/modely.png" class="d-block w-100" alt="...">
          <h3 class="white">Model Y</h3>
        </div>
        <div class="carousel-item">
          <img src="/images/models.png" class="d-block w-100" alt="...">
          <h3 class="white">Model S</h3>
        </div>
        <div class="carousel-item">
          <img src="/images/modelx.png" class="d-block w-100" alt="...">
          <h3 class="white">Model X</h3>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </main>
  <div class="userstats center white">
    <h3 class="white center">How many miles do you drive per year? </h3>
    <!--<label for="customRange">Select a value:</label>-->
    <input type="range" class="form-range" min="2000" max="20000" step="100" id="customRange">

    <p><span id="selectedValue">10000</span> Miles</p>
  </div>
  <div class="userstats2 center white">
    <h3 class="white center">What is your current car's MPG?</h3>
    <p class="center">(Leave empty if you're unsure.)</p>
    <input type="number" name="mpg" id="mpg" min="1" max="99" pattern="\d{1,2}" placeholder="20">
  </div>
  <div class="userstats2 center white">
    <h3 class="white center">What kind of fuel does your car use?</h3>
    <select name="fuel" id="fuel" required>
      <option value="" disabled selected>Select fuel type</option>
      <option value="regular">Regular (87)</option>
      <option value="premium">Midgrade (89)</option>
      <option value="premium">Premium (93)</option>
      <option value="diesel">Diesel</option>
      <option value="dont_know">I don't know</option>
    </select>
  </div>
  <br>
  <div class="yoohoo center">
    <button id="submitButton" class="btn btn-primary center">Submit Data</button>
  </div>
  <div class="savings center white" id="myDiv">
    <h3 class="white center" style="display:none">You would save:</h3>
    <h2 class="white center" id="fuelSavings">
      <%= fuelSavings %>
    </h2>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const slider = document.getElementById('customRange');
      const selectedValue = document.getElementById('selectedValue');

      slider.addEventListener('input', function () {
        selectedValue.textContent = this.value;
      });
    });
  </script>
  <script>
    $(document).ready(function () {
      var carousel = $("#carouselExampleControls");

      carousel.carousel();

      // Add a click event listener to pause the carousel and log the value
      carousel.on("click", ".carousel-item", function (e) {
        // Pause the carousel
        carousel.carousel("pause");

        // Get the text content of the clicked carousel item
        var value = $(this).find("h3").text();

        // Log the value to the console
        console.log("Clicked Item: " + value);
      });

      // Add an event listener to pause the carousel when the user interacts with it
      carousel.on("slid.bs.carousel", function (e) {
        // Get the currently displayed carousel item
        var currentItem = carousel.find(".carousel-item.active h3").text();

        // Log the currently displayed item
        console.log("Currently Displayed Item: " + currentItem);
      });
    });
  </script>
  <script>
    let fuelSavings = '';
    // Function to send a POST request
    function sendPostRequest(data) {
      fetch('/calculate', {
        method: 'POST',
        body: data, // The data you want to send
        headers: {
          'Content-Type': 'application/json' // Set the content type to JSON
        }
      })
        .then(response => {
          if (response.ok) {
            console.log(response);
            return response.json(); // Parse the response as JSON
          }
          throw new Error('Network response was not ok');
        })
        .then(responseData => {
          const myDiv = document.getElementById('myDiv');
          const h3Element = myDiv.querySelector('h3');
          h3Element.style.display = 'block'; // Show the initially hidden <h3>
          const fuelSavingsElement = document.getElementById('fuelSavings');
          fuelSavingsElement.textContent = responseData.fuelSavings;
        })
        .catch(error => {
          //console.error('POST request error:', error);
        });
    }


    $(document).ready(function () {
      var carousel = $('#carouselExampleControls');
      var slider = $('#customRange');
      var mpgInput = $('#mpg');
      var fuelSelect = $('#fuel');

      // Initialize the carousel
      carousel.carousel();

      // Add a click event listener to pause the carousel and log the value
      carousel.on('click', '.carousel-item', function () {
        // Pause the carousel
        carousel.carousel('pause');

        // Get the text content of the clicked carousel item
        var value = $(this).find('h3').text();

        // Log the value to the console
        console.log('Clicked Item: ' + value);
      });

      // Add an event listener to pause the carousel when the user interacts with it
      carousel.on('slid.bs.carousel', function () {
        // Get the currently displayed carousel item
        var currentItem = carousel.find('.carousel-item.active h3').text();

        // Log the currently displayed item
        console.log('Currently Displayed Item: ' + currentItem);
      });

      // Add a click event listener to the submit button
      $('#submitButton').click(function () {
        // Collect the data from the form and elements
        var carModel = carousel.find('.carousel-item.active h3').text();
        var miles = slider.val();
        var mpg = mpgInput.val();
        var fuel = fuelSelect.val();

        // Create an object with the collected data
        var carData = {
          model: carModel,
          miles: miles,
          mpg: mpg,
          fuel: fuel
        };

        console.log(carData);

        // Convert the data to a JSON string
        var jsonData = JSON.stringify(carData);

        // Send a POST request with the data
        sendPostRequest(jsonData);
      });
    });
  </script>

</body>

</html>